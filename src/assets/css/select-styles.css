/* ========================================
   SELECT STYLES
   Stili per select e opzioni moderne
   ======================================== */

/* Modern Select - Base */
.modern-select {
  background: linear-gradient(135deg, #f1f3ff 0%, #e8f4ff 100%);
  border: 1px solid #e8f4ff;
  border-radius: 0.75rem;
  box-shadow: 0 2px 8px rgba(54, 153, 255, 0.1);
  transition: all 0.3s ease;
  padding: 0.75rem 1rem;
  font-weight: 500;
  color: #3f4254;
  min-height: 50px;
  font-size: 0.95rem;
  cursor: pointer;
  /* Rimuove l'aspetto di default del browser */
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  /* Freccia SVG personalizzata */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M5 7.5L10 12.5L15 7.5' stroke='%233699ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 16px 16px;
  padding-right: 2.5rem;
}

.modern-select:hover {
  background: linear-gradient(135deg, #e8f4ff 0%, #f1f3ff 100%);
  border-color: #3699ff;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(54, 153, 255, 0.15);
}

.modern-select:focus {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-color: #3699ff;
  box-shadow: 0 0 0 0.2rem rgba(54, 153, 255, 0.15), 0 4px 12px rgba(54, 153, 255, 0.2);
  transform: translateY(-1px);
  outline: none;
}

.modern-select:active {
  transform: translateY(-0.5px);
}

/* Select Multiple */
.modern-select[multiple] {
  min-height: 150px;
  padding: 0.5rem;
  background-image: none;
  overflow-y: auto;
}

.modern-select[multiple]::-webkit-scrollbar {
  width: 8px;
}

.modern-select[multiple]::-webkit-scrollbar-track {
  background: rgba(54, 153, 255, 0.05);
  border-radius: 4px;
}

.modern-select[multiple]::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #3699ff 0%, #0bb7af 100%);
  border-radius: 4px;
}

.modern-select[multiple]::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #2b7ce6 0%, #0aa39a 100%);
}

/* Option Styles */
.modern-select option {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  color: #3f4254;
  padding: 0.75rem 1rem;
  font-weight: 500;
  font-size: 0.95rem;
  border-radius: 0.5rem;
  margin: 0.25rem;
  transition: all 0.2s ease;
  cursor: pointer;
}

.modern-select option:hover {
  background: linear-gradient(135deg, #e8f4ff 0%, #f1f3ff 100%);
  color: #3699ff;
  font-weight: 600;
}

.modern-select option:checked {
  background: linear-gradient(135deg, #3699ff 0%, #0bb7af 100%) !important;
  color: #ffffff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(54, 153, 255, 0.3);
}

.modern-select option:active {
  background: linear-gradient(135deg, #2b7ce6 0%, #0aa39a 100%);
  color: #ffffff;
}

/* Firefox Specific Styles */
@-moz-document url-prefix() {
  .modern-select option {
    padding: 0.75rem 1rem;
  }
  
  .modern-select option:checked {
    background: linear-gradient(135deg, #3699ff 0%, #0bb7af 100%) !important;
    color: #ffffff !important;
  }
}

/* Dark Mode Support */
[data-bs-theme="dark"] .modern-select {
  background: var(--bs-bg-secondary, #2C2C2C) !important;
  border-color: var(--bs-border-color, #2C2C2C) !important;
  color: var(--bs-text-primary, #E0E0E0) !important;
  /* Nessuna freccia in dark mode */
  background-image: none !important;
  background-repeat: no-repeat !important;
  background-position: right 0.75rem center !important;
  padding-right: 1rem !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

[data-bs-theme="dark"] .modern-select:hover {
  background: #3A3A3A !important;
  border-color: var(--bs-accent-primary, #0077CC) !important;
  /* Nessuna freccia al hover */
  background-image: none !important;
}

[data-bs-theme="dark"] .modern-select:focus {
  background: var(--bs-bg-secondary, #2C2C2C) !important;
  border-color: var(--bs-accent-primary, #0077CC) !important;
  /* Nessuna freccia al focus */
  background-image: none !important;
}

[data-bs-theme="dark"] .modern-select option {
  background-color: var(--bs-bg-secondary, #2C2C2C) !important;
  color: var(--bs-text-primary, #E0E0E0) !important;
  padding: 8px 12px !important;
  font-weight: 500 !important;
}

[data-bs-theme="dark"] .modern-select option:hover {
  background-color: rgba(0, 119, 204, 0.3) !important;
  color: #FFFFFF !important;
}

[data-bs-theme="dark"] .modern-select option:checked {
  background-color: var(--bs-accent-primary, #0077CC) !important;
  color: #FFFFFF !important;
  font-weight: 600 !important;
}

/* Disabled State */
.modern-select:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
  border-color: #dee2e6;
  color: #6c757d;
}

.modern-select:disabled:hover {
  transform: none;
  box-shadow: 0 2px 8px rgba(54, 153, 255, 0.1);
}

[data-bs-theme="dark"] .modern-select:disabled {
  background: linear-gradient(135deg, #1a1a27 0%, #1e1e2d 100%);
  border-color: #2d2d3f;
  color: #6c757d;
}

/* Placeholder Option */
.modern-select option[value=""],
.modern-select option[value="0"] {
  color: #a1a5b7;
  font-style: italic;
  font-weight: 400;
}

[data-bs-theme="dark"] .modern-select option[value=""],
[data-bs-theme="dark"] .modern-select option[value="0"] {
  color: #6c757d;
}

/* Animation for Select Opening */
@keyframes selectOpen {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modern-select:focus option {
  animation: selectOpen 0.2s ease;
}

/* Select with Icons/Emojis */
.modern-select option[data-icon]::before {
  content: attr(data-icon);
  margin-right: 0.5rem;
  font-size: 1.1rem;
}

/* Invalid State */
.modern-select:invalid,
.modern-select.is-invalid {
  border-color: #f64e60;
  box-shadow: 0 2px 8px rgba(246, 78, 96, 0.2);
}

.modern-select:invalid:focus,
.modern-select.is-invalid:focus {
  border-color: #f64e60;
  box-shadow: 0 0 0 0.2rem rgba(246, 78, 96, 0.15), 0 4px 12px rgba(246, 78, 96, 0.2);
}

/* Valid State */
.modern-select:valid:not([value=""]),
.modern-select.is-valid {
  border-color: #0bb7af;
  box-shadow: 0 2px 8px rgba(11, 183, 175, 0.1);
}

.modern-select:valid:focus:not([value=""]),
.modern-select.is-valid:focus {
  border-color: #0bb7af;
  box-shadow: 0 0 0 0.2rem rgba(11, 183, 175, 0.15), 0 4px 12px rgba(11, 183, 175, 0.2);
}

