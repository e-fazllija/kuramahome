/* ==================================
   FILTRI TABELLE - STILI COMUNI
   Supporto per modalit√† light e dark
   ================================== */

/* === VARIABILI CSS PER LIGHT/DARK MODE === */
:root {
  /* Light Mode */
  --filter-bg: #f8f9fa;
  --filter-bg-hover: #e9ecef;
  --filter-bg-focus: #ffffff;
  --filter-border: #dee2e6;
  --filter-border-focus: #0077CC;
  --filter-text: #333333;
  --filter-placeholder: #666666;
  --filter-icon-color: #666666;
  
  /* Search Input */
  --search-bg: #f8f9fa;
  --search-border: #dee2e6;
  --search-shadow-focus: rgba(0, 119, 204, 0.25);
  
  /* Badge Results */
  --badge-results-bg: #e7f3ff;
  --badge-results-border: #0077CC;
  --badge-results-text: #0077CC;
}

[data-bs-theme="dark"] {
  /* Dark Mode */
  --filter-bg: #2C2C2C;
  --filter-bg-hover: #3a3a3a;
  --filter-bg-focus: #1A1A1A;
  --filter-border: #444444;
  --filter-border-focus: #0077CC;
  --filter-text: #E0E0E0;
  --filter-placeholder: #AAAAAA;
  --filter-icon-color: #AAAAAA;
  
  /* Search Input */
  --search-bg: #2C2C2C;
  --search-border: #444444;
  --search-shadow-focus: rgba(0, 119, 204, 0.4);
  
  /* Badge Results */
  --badge-results-bg: rgba(0, 119, 204, 0.15);
  --badge-results-border: #0077CC;
  --badge-results-text: #0077CC;
}

/* === INPUT E SELECT === */
.filter-input,
.filter-select {
  background-color: var(--filter-bg) !important;
  border: 1px solid var(--filter-border) !important;
  color: var(--filter-text) !important;
  transition: all 0.3s ease;
  font-weight: 500;
}

.filter-input:hover,
.filter-select:hover {
  background-color: var(--filter-bg-hover) !important;
  border-color: var(--filter-border-focus) !important;
}

.filter-input:focus,
.filter-select:focus {
  background-color: var(--filter-bg-focus) !important;
  border-color: var(--filter-border-focus) !important;
  box-shadow: 0 0 0 0.25rem var(--search-shadow-focus) !important;
  outline: 0;
}

.filter-input::placeholder {
  color: var(--filter-placeholder);
}

/* === ICONE NEI FILTRI === */
.input-group-text {
  background-color: var(--filter-bg);
  border-color: var(--filter-border);
  color: var(--filter-icon-color);
  transition: all 0.3s ease;
}

.input-group:hover .input-group-text {
  background-color: var(--filter-bg-hover);
  border-color: var(--filter-border-focus);
  color: var(--filter-border-focus);
}

.input-group:focus-within .input-group-text {
  background-color: var(--filter-bg-focus);
  border-color: var(--filter-border-focus);
  color: var(--filter-border-focus);
}

/* === BOTTONE CERCA === */
.btn-filter-search {
  background: linear-gradient(135deg, #0077CC 0%, #0095e8 100%);
  border: none;
  color: #ffffff;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0, 119, 204, 0.2);
}

.btn-filter-search:hover {
  background: linear-gradient(135deg, #005fa3 0%, #0077CC 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 119, 204, 0.3);
  color: #ffffff;
}

.btn-filter-search:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 119, 204, 0.2);
}

.btn-filter-search:disabled {
  opacity: 0.65;
  transform: none !important;
  cursor: not-allowed;
}

/* === BOTTONE PULISCI === */
.btn-filter-clear {
  background-color: var(--filter-bg);
  border: 1px solid var(--filter-border);
  color: var(--filter-text);
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-filter-clear:hover {
  background-color: var(--filter-bg-hover);
  border-color: var(--filter-border-focus);
  color: var(--filter-border-focus);
  transform: translateY(-2px);
}

/* === BADGE RISULTATI === */
.badge-filter-results {
  background-color: var(--badge-results-bg);
  border: 1px solid var(--badge-results-border);
  color: var(--badge-results-text);
  padding: 0.5rem 1rem;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.badge-filter-results:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px var(--search-shadow-focus);
}

/* === ANIMAZIONI === */
@keyframes filterFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.filter-container {
  animation: filterFadeIn 0.4s ease-out;
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
  .filter-input,
  .filter-select {
    font-size: 0.9rem;
  }
  
  .badge-filter-results {
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
  }
  
  .btn-filter-search,
  .btn-filter-clear {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
  }
}

@media (max-width: 576px) {
  .filter-input,
  .filter-select {
    font-size: 0.85rem;
  }
}

/* === MULTISELECT === */
.multiselect-wrapper {
  position: relative;
}

.multiselect-wrapper .multiselect {
  background-color: var(--filter-bg);
  border-color: var(--filter-border);
  color: var(--filter-text);
}

.multiselect-wrapper .multiselect:hover {
  background-color: var(--filter-bg-hover);
  border-color: var(--filter-border-focus);
}

.multiselect-wrapper .multiselect:focus-within {
  background-color: var(--filter-bg-focus);
  border-color: var(--filter-border-focus);
  box-shadow: 0 0 0 0.25rem var(--search-shadow-focus);
}

/* === SELECTED TAGS === */
.selected-tag {
  background-color: var(--badge-results-bg);
  border: 1px solid var(--badge-results-border);
  color: var(--badge-results-text);
  padding: 0.35rem 0.65rem;
  border-radius: 0.5rem;
  font-size: 0.85rem;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  transition: all 0.2s ease;
}

.selected-tag:hover {
  background-color: var(--filter-bg-hover);
  transform: translateY(-1px);
}

.selected-tag .remove-icon {
  cursor: pointer;
  transition: transform 0.2s ease;
}

.selected-tag .remove-icon:hover {
  transform: scale(1.2);
  color: #dc3545;
}

/* === COLLAPSIBLE FILTERS === */
.filter-collapsible-header {
  background: var(--filter-bg);
  border: 1px solid var(--filter-border);
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.filter-collapsible-header:hover {
  background: var(--filter-bg-hover);
  border-color: var(--filter-border-focus);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.filter-collapsible-icon {
  transition: transform 0.3s ease;
}

.filter-collapsible-header[aria-expanded="true"] .filter-collapsible-icon {
  transform: rotate(180deg);
}

/* === UTILITIES === */
.filter-icon {
  color: var(--filter-icon-color);
  transition: color 0.3s ease;
}

.filter-separator {
  border-color: var(--filter-border);
  opacity: 0.5;
}

